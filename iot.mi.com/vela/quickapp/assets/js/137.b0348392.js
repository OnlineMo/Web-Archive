(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{643:function(t,v,s){"use strict";s.r(v);var a=s(18),_=Object(a.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"项目配置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#项目配置"}},[t._v("#")]),t._v(" 项目配置")]),t._v(" "),v("p",[v("code",[t._v("manifest.json")]),t._v("文件中包含了应用描述、接口声明、页面路由信息。")]),t._v(" "),v("h2",{attrs:{id:"manifest"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#manifest"}},[t._v("#")]),t._v(" manifest")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("属性")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("默认值")]),t._v(" "),v("th",[t._v("必填")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("package")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("是")]),t._v(" "),v("td",[t._v("应用包名，"),v("strong",[t._v("确认与原生应用的包名不一致")]),t._v("，推荐采用 com.company.module 的格式，如：com.example.demo")])]),t._v(" "),v("tr",[v("td",[t._v("name")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("是")]),t._v(" "),v("td",[t._v("应用名称，"),v("strong",[t._v("6 个汉字以内，与应用商店保存的名称一致")]),t._v("，用于在桌面图标、弹窗等处显示应用名称")])]),t._v(" "),v("tr",[v("td",[t._v("icon")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("是")]),t._v(" "),v("td",[t._v("应用图标，提供 192x192 大小的即可")])]),t._v(" "),v("tr",[v("td",[t._v("versionName")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("否")]),t._v(" "),v("td",[t._v('应用版本名称，如："1.0"')])]),t._v(" "),v("tr",[v("td",[t._v("versionCode")]),t._v(" "),v("td",[t._v("Integer")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("是")]),t._v(" "),v("td",[t._v("应用版本号，从"),v("code",[t._v("1")]),t._v("自增，"),v("strong",[t._v("推荐每次重新上传包时"),v("code",[t._v("versionCode")]),t._v("+1")])])]),t._v(" "),v("tr",[v("td",[t._v("minAPILevel")]),t._v(" "),v("td",[t._v("Integer")]),t._v(" "),v("td",[t._v("1")]),t._v(" "),v("td",[t._v("否")]),t._v(" "),v("td",[t._v("支持的最小 API 标准版本号，"),v("strong",[t._v("兼容性检查，避免上线后在低版本平台运行并导致不兼容")]),t._v("；如果不填按照内测版本处理")])]),t._v(" "),v("tr",[v("td",[t._v("features")]),t._v(" "),v("td",[t._v("Array")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("否")]),t._v(" "),v("td",[t._v("接口列表，绝大部分接口都需要在这里声明，否则不能调用，详见每个接口的文档说明")])]),t._v(" "),v("tr",[v("td",[t._v("config")]),t._v(" "),v("td",[t._v("Object")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("是")]),t._v(" "),v("td",[t._v("系统配置信息，详见下面说明")])]),t._v(" "),v("tr",[v("td",[t._v("router")]),t._v(" "),v("td",[t._v("Object")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("是")]),t._v(" "),v("td",[t._v("路由信息，详见下面说明")])]),t._v(" "),v("tr",[v("td",[t._v("display")]),t._v(" "),v("td",[t._v("Object")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("否")]),t._v(" "),v("td",[t._v("UI 显示相关配置，详见下面说明")])]),t._v(" "),v("tr",[v("td",[t._v("deviceTypeList")]),t._v(" "),v("td",[t._v("Array<String>")]),t._v(" "),v("td",[t._v("watch")]),t._v(" "),v("td",[t._v("否")]),t._v(" "),v("td",[t._v("可选值有：watch、tv、car、phone，现只支持watch")])]),t._v(" "),v("tr",[v("td",[t._v("permissions")]),t._v(" "),v("td",[t._v("Array")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("否")]),t._v(" "),v("td",[t._v('权限申请，示例：[{ "name": "hapjs.permission.LOCATION" }]')])])])]),t._v(" "),v("h3",{attrs:{id:"config"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#config"}},[t._v("#")]),t._v(" config")]),t._v(" "),v("p",[t._v("用于定义系统配置和全局数据。")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("属性")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("默认值")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("logLevel")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("log")]),t._v(" "),v("td",[t._v("打印日志等级，分为 off、error、warn、info、log、debug")])]),t._v(" "),v("tr",[v("td",[t._v("designWidth")]),t._v(" "),v("td",[t._v("Integer")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("页面设计基准宽度，根据实际设备宽度来缩放元素大小")])]),t._v(" "),v("tr",[v("td",[t._v("background")]),t._v(" "),v("td",[t._v("Object")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("后台运行配置信息，可使用 features 字段申请需要在后台使用的接口（同时仍需在最外层的 features 字段中声明）。可申请的接口为："),v("br"),t._v(" system.audio "),v("br"),t._v(" system.geolocation "),v("br"),t._v(" system.request 等 "),v("br"),t._v("  详细用法参见 "),v("RouterLink",{attrs:{to:"/zh/guide/framework/other/background-running.html"}},[t._v("后台运行")]),t._v(" 脚本")],1)])])]),t._v(" "),v("h3",{attrs:{id:"minapilevel"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#minapilevel"}},[t._v("#")]),t._v(" minAPILevel")]),t._v(" "),v("p",[t._v("支持的最小 API 标准版本号，标识开发者的 rpk 包能兼容运行在最小实现了该版本 API 标准的设备上，其值默认为1。当使用了 1 及以上的 API 标准版本新增特性时，就必须确保 minAPILevel 最低为该版本号，避免上线后在实现了更低版本 API 标准的设备上运行出错。")]),t._v(" "),v("p",[t._v("示例如下：")]),t._v(" "),v("div",{staticClass:"language-json extra-class"},[v("pre",{pre:!0,attrs:{class:"language-json"}},[v("code",[v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minAPILevel"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),v("h3",{attrs:{id:"router"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#router"}},[t._v("#")]),t._v(" router")]),t._v(" "),v("p",[t._v("用于定义页面的组成和相关配置信息，如果页面没有配置路由信息，则在编译打包时跳过。")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("属性")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("默认值")]),t._v(" "),v("th",[t._v("必填")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("entry")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("是")]),t._v(" "),v("td",[t._v("首页名称，使用分包功能时，建议将首页定义在基础包")])]),t._v(" "),v("tr",[v("td",[t._v("pages")]),t._v(" "),v("td",[t._v("Object")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("是")]),t._v(" "),v("td",[t._v("页面配置列表，key 值为页面名称（对应页面目录名，例如 Hello 对应'Hello'目录），value 为页面详细配置 page，详见下面说明")])])])]),t._v(" "),v("p",[t._v("示例代码：")]),t._v(" "),v("div",{staticClass:"language-json extra-class"},[v("pre",{pre:!0,attrs:{class:"language-json"}},[v("code",[v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"router"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"entry"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Demo"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pages"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Demo"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"component"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index"')]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),v("h4",{attrs:{id:"router-pages"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#router-pages"}},[t._v("#")]),t._v(" router.pages")]),t._v(" "),v("p",[t._v("用于定义单个页面路由信息。")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("属性")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("默认值")]),t._v(" "),v("th",[t._v("必填")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("component")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("是")]),t._v(" "),v("td",[t._v('页面对应的组件名，与 ux 文件名保持一致，例如"hello" 对应 "hello.ux"')])]),t._v(" "),v("tr",[v("td",[t._v("path")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("/<页面名称>")]),t._v(" "),v("td",[t._v("否")]),t._v(" "),v("td",[t._v('页面路径，例如"/user",不填则默认为/<页面名称>'),v("br"),t._v("path 必须唯一，不能和其他 page 的 path 相同"),v("br"),t._v('下面 page 的 path 因为缺失，会被设置为"/Index"：'),v("br"),v("code",[t._v('"Index": {"component": "index"}')])])]),t._v(" "),v("tr",[v("td",[t._v("launchMode")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("standard")]),t._v(" "),v("td",[t._v("否")]),t._v(" "),v("td",[t._v('声明页面的启动模式，支持"singleTask"，"standard"两种页面启动模式'),v("br"),t._v('标识为"singleTask"模式时每次打开目标页面都会打开已有的目标页面并回调 onRefresh 生命周期函数，清除该页面上打开的其他页面，没有打开过此页面时会创建新的目标页面实例'),v("br"),t._v('标识为"standard"模式时会每次打开新的目标页面（多次打开目标页面地址时会存在多个相同页面）')])])])]),t._v(" "),v("h3",{attrs:{id:"示例代码"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#示例代码"}},[t._v("#")]),t._v(" 示例代码")]),t._v(" "),v("div",{staticClass:"language-json extra-class"},[v("pre",{pre:!0,attrs:{class:"language-json"}},[v("code",[v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"package"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.company.unit"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"appName"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"icon"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Common/icon.png"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"versionName"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"versionCode"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minPlatformVersion"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"features"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"system.network"')]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"router"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"entry"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pages"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Hello"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"component"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),t._v("\n      "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),v("h3",{attrs:{id:"display"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#display"}},[t._v("#")]),t._v(" display")]),t._v(" "),v("p",[t._v("用于定义与 UI 显示相关的配置。")]),t._v(" "),v("p",[t._v("如果在 display 对象下定义以下属性值，则生效范围为此JS 应用全部页面；")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("属性")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("默认值")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("backgroundColor")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("#ffffff")]),t._v(" "),v("td",[t._v("窗口背景颜色")])])])]),t._v(" "),v("h3",{attrs:{id:"权限说明"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#权限说明"}},[t._v("#")]),t._v(" 权限说明")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("权限名")]),t._v(" "),v("th",[t._v("feature")]),t._v(" "),v("th",[t._v("api")]),t._v(" "),v("th",[t._v("描述")]),t._v(" "),v("th",[t._v("权限错误码")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("hapjs.permission.LOCATION")]),t._v(" "),v("td",[t._v("system.geolocation")]),t._v(" "),v("td",[t._v("getLocation "),v("br"),t._v(" subscribe "),v("br"),t._v(" unsubscribe")]),t._v(" "),v("td",[t._v("地理位置")]),t._v(" "),v("td",[t._v("400： 拒绝授予权限 "),v("br"),t._v(" 402： 权限错误（未声明该权限）")])]),t._v(" "),v("tr",[v("td",[t._v("hapjs.permission.DEVICE_INFO")]),t._v(" "),v("td",[t._v("system.device")]),t._v(" "),v("td",[t._v("getSerial "),v("br"),t._v(" getDeviceId")]),t._v(" "),v("td",[t._v("获取设备信息")]),t._v(" "),v("td",[t._v("400： 拒绝授予权限 "),v("br"),t._v(" 402： 权限错误（未声明该权限）")])])])])])}),[],!1,null,null,null);v.default=_.exports}}]);