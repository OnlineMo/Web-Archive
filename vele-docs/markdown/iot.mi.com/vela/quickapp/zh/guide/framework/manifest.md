::: {#app server-rendered="true"}
::: theme-container
::: navbar
::: sidebar-button
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiByb2xlPSJpbWciIHZpZXdib3g9IjAgMCA0NDggNTEyIiBjbGFzcz0iaWNvbiI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNNDM2IDEyNEgxMmMtNi42MjcgMC0xMi01LjM3My0xMi0xMlY4MGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6Ij48L3BhdGg+PC9zdmc+){.icon}
:::

[![Xiaomi Vela JS 应用](../../../logo.png){.logo} [Xiaomi Vela JS
应用]{.site-name
.can-hide}](https://iot.mi.com/vela/quickapp/){.home-link
.router-link-active}

::: links
::: search-box
:::

::: nav-item
[教程](../version/APILevel4.html){.nav-link .router-link-active}
:::

::: nav-item
[组件](../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../../tools/index.html){.nav-link}
:::

::: nav-item
::: dropdown-wrapper
[选择语言]{.title} []{.arrow .down}

[选择语言]{.title} []{.arrow .right}

-   [简体中文](manifest.html){.nav-link .router-link-exact-active
    .router-link-active aria-current="page"}
-   [English](https://iot.mi.com/vela/quickapp/en/guide/framework/manifest.html){.nav-link}
:::
:::
:::
:::

::: sidebar-mask
:::

::: nav-item
[教程](../version/APILevel4.html){.nav-link .router-link-active}
:::

::: nav-item
[组件](../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../../tools/index.html){.nav-link}
:::

::: nav-item
::: dropdown-wrapper
[选择语言]{.title} []{.arrow .down}

[选择语言]{.title} []{.arrow .right}

-   [简体中文](manifest.html){.nav-link .router-link-exact-active
    .router-link-active aria-current="page"}
-   [English](https://iot.mi.com/vela/quickapp/en/guide/framework/manifest.html){.nav-link}
:::
:::

-   ::: {.section .sidebar-group .depth-0}
    [快速入门](https://iot.mi.com/vela/quickapp/zh/guide/start){.sidebar-heading
    .clickable}
    -   [安装环境](../start/use-ide.html){.sidebar-link}
    -   [项目结构](../start/project-overview.html){.sidebar-link}
    -   [编写页面UI](../start/user-interface.html){.sidebar-link}
    -   [添加交互](../start/add-interactivity.html){.sidebar-link}
    -   [数据获取](../start/data-fetch.html){.sidebar-link}
    -   [编译参数](../start/toolkit-params.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [基础功能](index.html){.sidebar-heading .clickable
    .router-link-active .open}
    -   [项目结构](project-structure.html){.sidebar-link}

    -   [项目配置](manifest.html){.active .sidebar-link
        aria-current="page"}

    -   [UX 文件](ux.html){.sidebar-link}

    -   ::: {.section .sidebar-group .collapsable .is-sub-group .depth-1}
        [模板语法 []{.arrow
        .right}](template/index.html){.sidebar-heading .clickable}
        :::

    -   ::: {.section .sidebar-group .collapsable .is-sub-group .depth-1}
        [样式语法 []{.arrow .right}](style/index.html){.sidebar-heading
        .clickable}
        :::

    -   ::: {.section .sidebar-group .collapsable .is-sub-group .depth-1}
        [脚本语法 []{.arrow .right}](script/index.html){.sidebar-heading
        .clickable}
        :::

    -   [页面切换](page-switch.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [进阶功能](other/index.html){.sidebar-heading .clickable}
    -   [多语言覆盖](other/i18n.html){.sidebar-link}

    -   [后台运行](other/background-running.html){.sidebar-link}

    -   [hap 链接](other/hap-schema.html){.sidebar-link}

    -   [页面启动模式](other/launch-mode.html){.sidebar-link}

    -   ::: {.section .sidebar-group .is-sub-group .depth-1}
        [多屏适配](../multi-screens/index.html){.sidebar-heading
        .clickable}
        -   [适配规范](../multi-screens/specs.html){.sidebar-link}
        -   [代码示例](../multi-screens/samples.html){.sidebar-link}
        -   [条件编译](../multi-screens/conditional-compilation.html){.sidebar-link}
        :::
    :::

-   ::: {.section .sidebar-group .depth-0}
    [开发者物料](../developer-materials/index.html){.sidebar-heading
    .clickable}
    -   [拓展组件](../developer-materials/extension-components.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [设计指南](../design/index.html){.sidebar-heading .clickable}
    -   [多屏设计](../design/multi-screens.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [最佳实践](../best-practice/index.html){.sidebar-heading .clickable}
    -   [内存优化](../best-practice/memory.html){.sidebar-link}
    -   [常用业务优化](../best-practice/business.html){.sidebar-link}
    -   [启动时延优化](../best-practice/start.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [发布](../publish/index.html){.sidebar-heading .clickable}
    -   [验收标准](../publish/acceptance-criteria.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [版本说明](../version/index.html){.sidebar-heading .clickable}
    -   [APILevel2](https://iot.mi.com/vela/quickapp/zh/guide/version/APILevel2.html){.sidebar-link}
    -   [APILevel3](https://iot.mi.com/vela/quickapp/zh/guide/version/APILevel3.html){.sidebar-link}
    -   [APILevel4](https://iot.mi.com/vela/quickapp/zh/guide/version/APILevel4.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    其他

    -   [常见问题](../other/faq.html){.sidebar-link}
    -   [注意事项](../other/tips.html){.sidebar-link}
    :::

::: {.page role="main"}
::: {.theme-default-content .content__default}
# [\#](manifest.html#项目配置){.header-anchor} 项目配置

`manifest.json`文件中包含了应用描述、接口声明、页面路由信息。

## [\#](manifest.html#manifest){.header-anchor} manifest

  属性             类型              默认值   必填   描述
  ---------------- ----------------- -------- ------ -------------------------------------------------------------------------------------------------------------
  package          String            \-       是     应用包名，**确认与原生应用的包名不一致**，推荐采用 com.company.module 的格式，如：com.example.demo
  name             String            \-       是     应用名称，**6 个汉字以内，与应用商店保存的名称一致**，用于在桌面图标、弹窗等处显示应用名称
  icon             String            \-       是     应用图标，提供 192x192 大小的即可
  versionName      String            \-       否     应用版本名称，如：\"1.0\"
  versionCode      Integer           \-       是     应用版本号，从`1`自增，**推荐每次重新上传包时`versionCode`+1**
  minAPILevel      Integer           1        否     支持的最小 API 标准版本号，**兼容性检查，避免上线后在低版本平台运行并导致不兼容**；如果不填按照内测版本处理
  features         Array             \-       否     接口列表，绝大部分接口都需要在这里声明，否则不能调用，详见每个接口的文档说明
  config           Object            \-       是     系统配置信息，详见下面说明
  router           Object            \-       是     路由信息，详见下面说明
  display          Object            \-       否     UI 显示相关配置，详见下面说明
  deviceTypeList   Array\<String\>   watch    否     可选值有：watch、tv、car、phone，现只支持watch
  permissions      Array             \-       否     权限申请，示例：\[{ \"name\": \"hapjs.permission.LOCATION\" }\]

### [\#](manifest.html#config){.header-anchor} config

用于定义系统配置和全局数据。

  --------------------------------------------------------------------------------------------------------
  属性              类型              默认值            描述
  ----------------- ----------------- ----------------- --------------------------------------------------
  logLevel          String            log               打印日志等级，分为
                                                        off、error、warn、info、log、debug

  designWidth       Integer           \-                页面设计基准宽度，根据实际设备宽度来缩放元素大小

  background        Object            \-                后台运行配置信息，可使用 features
                                                        字段申请需要在后台使用的接口（同时仍需在最外层的
                                                        features 字段中声明）。可申请的接口为：\
                                                        system.audio\
                                                        system.geolocation\
                                                        system.request 等\
                                                        详细用法参见
                                                        [后台运行](other/background-running.html) 脚本
  --------------------------------------------------------------------------------------------------------

### [\#](manifest.html#minapilevel){.header-anchor} minAPILevel

支持的最小 API 标准版本号，标识开发者的 rpk
包能兼容运行在最小实现了该版本 API 标准的设备上，其值默认为1。当使用了 1
及以上的 API 标准版本新增特性时，就必须确保 minAPILevel
最低为该版本号，避免上线后在实现了更低版本 API 标准的设备上运行出错。

示例如下：

::: {.language-json .extra-class}
``` language-json
{
  "minAPILevel": 1
}
```
:::

### [\#](manifest.html#router){.header-anchor} router

用于定义页面的组成和相关配置信息，如果页面没有配置路由信息，则在编译打包时跳过。

  属性    类型     默认值   必填   描述
  ------- -------- -------- ------ -------------------------------------------------------------------------------------------------------------------------
  entry   String   \-       是     首页名称，使用分包功能时，建议将首页定义在基础包
  pages   Object   \-       是     页面配置列表，key 值为页面名称（对应页面目录名，例如 Hello 对应\'Hello\'目录），value 为页面详细配置 page，详见下面说明

示例代码：

::: {.language-json .extra-class}
``` language-json
"router": {
  "entry": "Demo",
  "pages": {
    "Demo": {
      "component": "index"
    }
  }
}
```
:::

#### [\#](manifest.html#router-pages){.header-anchor} router.pages {#router-pages}

用于定义单个页面路由信息。

  ---------------------------------------------------------------------------------------------------------------------------------------------------------
  属性           类型           默认值          必填           描述
  -------------- -------------- --------------- -------------- --------------------------------------------------------------------------------------------
  component      String         \-              是             页面对应的组件名，与 ux 文件名保持一致，例如\"hello\" 对应 \"hello.ux\"

  path           String         /\<页面名称\>   否             页面路径，例如\"/user\",不填则默认为/\<页面名称\>\
                                                               path 必须唯一，不能和其他 page 的 path 相同\
                                                               下面 page 的 path 因为缺失，会被设置为\"/Index\"：\
                                                               `"Index": {"component": "index"}`

  launchMode     String         standard        否             声明页面的启动模式，支持\"singleTask\"，\"standard\"两种页面启动模式\
                                                               标识为\"singleTask\"模式时每次打开目标页面都会打开已有的目标页面并回调 onRefresh
                                                               生命周期函数，清除该页面上打开的其他页面，没有打开过此页面时会创建新的目标页面实例\
                                                               标识为\"standard\"模式时会每次打开新的目标页面（多次打开目标页面地址时会存在多个相同页面）
  ---------------------------------------------------------------------------------------------------------------------------------------------------------

### [\#](manifest.html#示例代码){.header-anchor} 示例代码

::: {.language-json .extra-class}
``` language-json
{
  "package": "com.company.unit",
  "name": "appName",
  "icon": "/Common/icon.png",
  "versionName": "1.0",
  "versionCode": 1,
  "minPlatformVersion": 1000,
  "features": [{ "name": "system.network" }],
  "router": {
    "entry": "Hello",
    "pages": {
      "Hello": {
        "component": "hello",
        "path": "/"
      }
    }
  }
}
```
:::

### [\#](manifest.html#display){.header-anchor} display

用于定义与 UI 显示相关的配置。

如果在 display 对象下定义以下属性值，则生效范围为此JS 应用全部页面；

  属性              类型     默认值    描述
  ----------------- -------- --------- --------------
  backgroundColor   String   #ffffff   窗口背景颜色

### [\#](manifest.html#权限说明){.header-anchor} 权限说明

  ------------------------------------------------------------------------------------------------------------
  权限名                         feature              api            描述           权限错误码
  ------------------------------ -------------------- -------------- -------------- --------------------------
  hapjs.permission.LOCATION      system.geolocation   getLocation\   地理位置       400： 拒绝授予权限\
                                                      subscribe\                    402：
                                                      unsubscribe                   权限错误（未声明该权限）

  hapjs.permission.DEVICE_INFO   system.device        getSerial\     获取设备信息   400： 拒绝授予权限\
                                                      getDeviceId                   402：
                                                                                    权限错误（未声明该权限）
  ------------------------------------------------------------------------------------------------------------
:::

::: page-nav
[ ← [项目结构](project-structure.html){.prev} ]{.prev} [ [UX
文件](ux.html) → ]{.next}
:::
:::

::: toc
::: on-this-page
快速导航
:::

::: {.vuepress-toc-item .vuepress-toc-h2 .active}
[manifest](manifest.html#manifest "manifest")
:::

::: {.vuepress-toc-item .vuepress-toc-h3}
[config](manifest.html#config "config")
:::

::: {.vuepress-toc-item .vuepress-toc-h3}
[minAPILevel](manifest.html#minapilevel "minAPILevel")
:::

::: {.vuepress-toc-item .vuepress-toc-h3}
[router](manifest.html#router "router")
:::

::: {.vuepress-toc-item .vuepress-toc-h3}
[示例代码](manifest.html#示例代码 "示例代码")
:::

::: {.vuepress-toc-item .vuepress-toc-h3}
[display](manifest.html#display "display")
:::

::: {.vuepress-toc-item .vuepress-toc-h3}
[权限说明](manifest.html#权限说明 "权限说明")
:::
:::
:::

::: global-ui
:::
:::
