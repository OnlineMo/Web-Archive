::: {#app server-rendered="true"}
::: theme-container
::: navbar
::: sidebar-button
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiByb2xlPSJpbWciIHZpZXdib3g9IjAgMCA0NDggNTEyIiBjbGFzcz0iaWNvbiI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNNDM2IDEyNEgxMmMtNi42MjcgMC0xMi01LjM3My0xMi0xMlY4MGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6Ij48L3BhdGg+PC9zdmc+){.icon}
:::

[![Xiaomi Vela JS 应用开发文档](../../../../logo.png){.logo} [Xiaomi
Vela JS 应用开发文档]{.site-name
.can-hide}](https://iot.mi.com/vela/quickapp/){.home-link
.router-link-active}

::: links
::: search-box
:::

::: nav-item
[教程](../../version/APILevel4.html){.nav-link .router-link-active}
:::

::: nav-item
[组件](../../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../../../tools/index.html){.nav-link}
:::
:::
:::

::: sidebar-mask
:::

::: nav-item
[教程](../../version/APILevel4.html){.nav-link .router-link-active}
:::

::: nav-item
[组件](../../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../../../tools/index.html){.nav-link}
:::

-   ::: {.section .sidebar-group .depth-0}
    [快速入门](https://iot.mi.com/vela/quickapp/zh/guide/start){.sidebar-heading
    .clickable}
    -   [安装环境](../../start/use-ide.html){.sidebar-link}
    -   [项目结构](../../start/project-overview.html){.sidebar-link}
    -   [编写页面UI](../../start/user-interface.html){.sidebar-link}
    -   [添加交互](../../start/add-interactivity.html){.sidebar-link}
    -   [数据获取](../../start/data-fetch.html){.sidebar-link}
    -   [编译参数](../../start/toolkit-params.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [基础功能](../index.html){.sidebar-heading .clickable
    .router-link-active .open}
    -   [项目结构](../project-structure.html){.sidebar-link}

    -   [项目配置](../manifest.html){.sidebar-link}

    -   [UX 文件](../ux.html){.sidebar-link}

    -   ::: {.section .sidebar-group .collapsable .is-sub-group .depth-1}
        [模板语法 []{.arrow .down}](index.html){.sidebar-heading
        .clickable .router-link-active .open}
        -   [Props](Props.html){.active .sidebar-link
            aria-current="page"}
        -   [事件绑定](event.html){.sidebar-link}
        -   [循环指令](for.html){.sidebar-link}
        -   [条件指令](if.html){.sidebar-link}
        -   [计算属性](computed.html){.sidebar-link}
        -   [组件](component.html){.sidebar-link}
        :::

    -   ::: {.section .sidebar-group .collapsable .is-sub-group .depth-1}
        [样式语法 []{.arrow
        .right}](../style/index.html){.sidebar-heading .clickable}
        :::

    -   ::: {.section .sidebar-group .collapsable .is-sub-group .depth-1}
        [脚本语法 []{.arrow
        .right}](../script/index.html){.sidebar-heading .clickable}
        :::

    -   [页面切换](../page-switch.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [进阶功能](../other/index.html){.sidebar-heading .clickable}
    -   [多语言覆盖](../other/i18n.html){.sidebar-link}

    -   [后台运行](../other/background-running.html){.sidebar-link}

    -   [hap 链接](../other/hap-schema.html){.sidebar-link}

    -   [页面启动模式](../other/launch-mode.html){.sidebar-link}

    -   ::: {.section .sidebar-group .is-sub-group .depth-1}
        [多屏适配](../../multi-screens/index.html){.sidebar-heading
        .clickable}
        -   [适配规范](../../multi-screens/specs.html){.sidebar-link}
        -   [代码示例](../../multi-screens/samples.html){.sidebar-link}
        -   [条件编译](../../multi-screens/conditional-compilation.html){.sidebar-link}
        :::
    :::

-   ::: {.section .sidebar-group .depth-0}
    [开发者物料](../../developer-materials/index.html){.sidebar-heading
    .clickable}
    -   [拓展组件](../../developer-materials/extension-components.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [设计指南](../../design/index.html){.sidebar-heading .clickable}
    -   [多屏设计](../../design/multi-screens.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [最佳实践](../../best-practice/index.html){.sidebar-heading
    .clickable}
    -   [内存优化](../../best-practice/memory.html){.sidebar-link}
    -   [常用业务优化](../../best-practice/business.html){.sidebar-link}
    -   [启动时延优化](../../best-practice/start.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [发布](../../publish/index.html){.sidebar-heading .clickable}
    -   [验收标准](../../publish/acceptance-criteria.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [版本说明](../../version/index.html){.sidebar-heading .clickable}
    -   [APILevel2](https://iot.mi.com/vela/quickapp/zh/guide/version/APILevel2.html){.sidebar-link}
    -   [APILevel3](https://iot.mi.com/vela/quickapp/zh/guide/version/APILevel3.html){.sidebar-link}
    -   [APILevel4](https://iot.mi.com/vela/quickapp/zh/guide/version/APILevel4.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    其他

    -   [常见问题](../../other/faq.html){.sidebar-link}
    -   [注意事项](../../other/tips.html){.sidebar-link}
    :::

::: {.page role="main"}
::: {.theme-default-content .content__default}
# [\#](Props.html#props){.header-anchor} Props

## [\#](Props.html#prop-写法){.header-anchor} Prop 写法

Prop 属性名称使用 camelCase(驼峰命名法)命名，在外部传递数据时请转化为以
kebab-case (短横线分隔命名) propObject 转换为 prop-object。

::: {.language-html .extra-class}
``` language-html
<!-- 子组件 -->
<template>
  <div class="child-demo">
    <text>{{ propObject.name }}</text>
  </div>
</template>
<script>
  export default {
    props: ['propObject']
  }
</script>
```
:::

::: {.language-html .extra-class}
``` language-html
<!-- 父组件 -->
<import name="comp" src="./comp"></import>
<template>
  <div class="parent-demo">
    <comp prop-object="{{obj}}"></comp>
  </div>
</template>
<script>
  export default {
    private: {
      obj: {
        name: 'child-demo'
      }
    }
  }
</script>
```
:::

## [\#](Props.html#属性默认值){.header-anchor} 属性默认值

子组件声明属性时，可以设置默认值。当调用子组件没有传入该数据时，将会自动设为默认值。

如果需要设置默认值，`props` 属性的写法必须要要写成 Object 形式，不能写成
Array 形式。

**示例如下：**

::: {.language-html .extra-class}
``` language-html
<script>
  // 子组件
  export default {
    props: {
      prop1: {
        default: 'Hello' //默认值
      },
      prop2Object: {} //不设置默认值
    },
    onInit() {
      console.info(`外部传递的数据：`, this.prop1, this.prop2Object)
    }
  }
</script>
```
:::

## [\#](Props.html#数据单向性){.header-anchor} 数据单向性

父子间的数据传输是单向性的，父组件 prop
数据更新，子组件的数据会刷新为最新值；子组件的 prop
值发生改变，并不会改变父组件中值。

但是**prop
类型事数组或者对象，自组件变化会影响到父组件的值，**这意味着你不应该在一个子组件内部改变
prop 的值，这是危险性操作。

## [\#](Props.html#常见的三种操作-prop-值的方法){.header-anchor} 常见的三种操作 prop 值的方法：

### [\#](Props.html#_1-prop-传入的值作为初始值-用-data-接收){.header-anchor} 1. prop 传入的值作为初始值，用 data 接收 {#_1-prop-传入的值作为初始值-用-data-接收}

::: {.language-html .extra-class}
``` language-html
<script>
  export default {
    props: ['say', 'propObject'],
    data{
      count: null,
      obj: null
    },
    onInit() {
      console.info(`外部传递的数据：`, this.say, this.propObject)

      this.count = this.propObject.count // 将prop中一个简单类型赋值给data
      this.obj = JSON.parse(JSON.stringify(this.propObject)) // 将 prop 深度克隆
    }
  }
</script>
```
:::

### [\#](Props.html#_2-watch-监控数据改变){.header-anchor} 2. \$watch 监控数据改变 {#_2-watch-监控数据改变}

如果是监听对象中的属性，参数请使用.分割，如：\$watch(xxx.xxx.xxx,
methodName)，详见[\$watch](../script/global-data-method.html#this.$watch)。

::: {.language-html .extra-class}
``` language-html
<script>
  export default {
    props: ['propObject'],
    data {
      propSay: ''
    },
    onInit() {
      // 监听数据变化
      this.$watch('propObject.name', 'watchPropsChange')
    },
    /**
     * 监听数据变化，你可以对数据处理后，设置值到data上
     * @param newV
     * @param oldV
     */
    watchPropsChange(newV, oldV) {
      console.info(`监听数据变化：`, newV, oldV)
      this.propSay = newV && newV.toUpperCase()
    }
  }
</script>
```
:::

### [\#](Props.html#_3-computed-属性){.header-anchor} 3. computed 属性 {#_3-computed-属性}

详见[计算属性](computed.html)。

::: {.language-html .extra-class}
``` language-html
<script>
  export default {
    props: [
      'say'
    ],
    computed:{
      sayText() {
        return this.say.toUpperCase()
      }
    }
  }
</script>
```
:::

## [\#](Props.html#属性校验){.header-anchor} 属性校验

子组件声明属性时，可以指定数据类型校验。

类型检查支持的类型包括
\[`String`、`Number`、`Boolean`、`Function`、`Object`、`Array`\]

如果需要校验类型，`props` 属性的写法必须要要写成 Object 形式，不能写成
Array 形式。

**示例如下：**

::: {.language-html .extra-class}
``` language-html
<script>
  // 子组件
  export default {
    props: {
      prop1: {
        default: 'Hello' //默认值
        type: String // 校验类型
      },
      prop2Object: {} //不设置默认值
    },
    onInit() {
      console.info(`外部传递的数据：`, this.prop1, this.prop2Object)
    }
  }
</script>
```
:::
:::

::: page-nav
[ ← [UX 文件](../ux.html){.prev} ]{.prev} [ [事件绑定](event.html) →
]{.next}
:::
:::

::: toc
::: on-this-page
快速导航
:::

::: {.vuepress-toc-item .vuepress-toc-h2 .active}
[Prop 写法](Props.html#prop-写法 "Prop 写法")
:::

::: {.vuepress-toc-item .vuepress-toc-h2}
[属性默认值](Props.html#属性默认值 "属性默认值")
:::

::: {.vuepress-toc-item .vuepress-toc-h2}
[数据单向性](Props.html#数据单向性 "数据单向性")
:::

::: {.vuepress-toc-item .vuepress-toc-h2}
[常见的三种操作 prop
值的方法：](Props.html#常见的三种操作-prop-值的方法 "常见的三种操作 prop 值的方法：")
:::

::: {.vuepress-toc-item .vuepress-toc-h3}
[1. prop 传入的值作为初始值，用 data
接收](Props.html#_1-prop-传入的值作为初始值-用-data-接收 "1. prop 传入的值作为初始值，用 data 接收")
:::

::: {.vuepress-toc-item .vuepress-toc-h3}
[2. \$watch
监控数据改变](Props.html#_2-watch-监控数据改变 "2. $watch 监控数据改变")
:::

::: {.vuepress-toc-item .vuepress-toc-h3}
[3. computed 属性](Props.html#_3-computed-属性 "3. computed 属性")
:::

::: {.vuepress-toc-item .vuepress-toc-h2}
[属性校验](Props.html#属性校验 "属性校验")
:::
:::
:::

::: global-ui
:::
:::
