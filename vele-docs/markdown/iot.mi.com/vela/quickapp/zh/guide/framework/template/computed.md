::: {#app server-rendered="true"}
::: theme-container
::: navbar
::: sidebar-button
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiByb2xlPSJpbWciIHZpZXdib3g9IjAgMCA0NDggNTEyIiBjbGFzcz0iaWNvbiI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNNDM2IDEyNEgxMmMtNi42MjcgMC0xMi01LjM3My0xMi0xMlY4MGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6Ij48L3BhdGg+PC9zdmc+){.icon}
:::

[![Xiaomi Vela JS 应用开发文档](../../../../logo.png){.logo} [Xiaomi
Vela JS 应用开发文档]{.site-name
.can-hide}](https://iot.mi.com/vela/quickapp/){.home-link
.router-link-active}

::: links
::: search-box
:::

::: nav-item
[教程](../../version/APILevel4.html){.nav-link .router-link-active}
:::

::: nav-item
[组件](../../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../../../tools/index.html){.nav-link}
:::
:::
:::

::: sidebar-mask
:::

::: nav-item
[教程](../../version/APILevel4.html){.nav-link .router-link-active}
:::

::: nav-item
[组件](../../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../../../tools/index.html){.nav-link}
:::

-   ::: {.section .sidebar-group .depth-0}
    [快速入门](https://iot.mi.com/vela/quickapp/zh/guide/start){.sidebar-heading
    .clickable}
    -   [安装环境](../../start/use-ide.html){.sidebar-link}
    -   [项目结构](../../start/project-overview.html){.sidebar-link}
    -   [编写页面UI](../../start/user-interface.html){.sidebar-link}
    -   [添加交互](../../start/add-interactivity.html){.sidebar-link}
    -   [数据获取](../../start/data-fetch.html){.sidebar-link}
    -   [编译参数](../../start/toolkit-params.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [基础功能](../index.html){.sidebar-heading .clickable
    .router-link-active .open}
    -   [项目结构](../project-structure.html){.sidebar-link}

    -   [项目配置](../manifest.html){.sidebar-link}

    -   [UX 文件](../ux.html){.sidebar-link}

    -   ::: {.section .sidebar-group .collapsable .is-sub-group .depth-1}
        [模板语法 []{.arrow .down}](index.html){.sidebar-heading
        .clickable .router-link-active .open}
        -   [Props](Props.html){.sidebar-link}
        -   [事件绑定](event.html){.sidebar-link}
        -   [循环指令](for.html){.sidebar-link}
        -   [条件指令](if.html){.sidebar-link}
        -   [计算属性](computed.html){.active .sidebar-link
            aria-current="page"}
        -   [组件](component.html){.sidebar-link}
        :::

    -   ::: {.section .sidebar-group .collapsable .is-sub-group .depth-1}
        [样式语法 []{.arrow
        .right}](../style/index.html){.sidebar-heading .clickable}
        :::

    -   ::: {.section .sidebar-group .collapsable .is-sub-group .depth-1}
        [脚本语法 []{.arrow
        .right}](../script/index.html){.sidebar-heading .clickable}
        :::

    -   [页面切换](../page-switch.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [进阶功能](../other/index.html){.sidebar-heading .clickable}
    -   [多语言覆盖](../other/i18n.html){.sidebar-link}

    -   [后台运行](../other/background-running.html){.sidebar-link}

    -   [hap 链接](../other/hap-schema.html){.sidebar-link}

    -   [页面启动模式](../other/launch-mode.html){.sidebar-link}

    -   ::: {.section .sidebar-group .is-sub-group .depth-1}
        [多屏适配](../../multi-screens/index.html){.sidebar-heading
        .clickable}
        -   [适配规范](../../multi-screens/specs.html){.sidebar-link}
        -   [代码示例](../../multi-screens/samples.html){.sidebar-link}
        -   [条件编译](../../multi-screens/conditional-compilation.html){.sidebar-link}
        :::
    :::

-   ::: {.section .sidebar-group .depth-0}
    [开发者物料](../../developer-materials/index.html){.sidebar-heading
    .clickable}
    -   [拓展组件](../../developer-materials/extension-components.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [设计指南](../../design/index.html){.sidebar-heading .clickable}
    -   [多屏设计](../../design/multi-screens.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [最佳实践](../../best-practice/index.html){.sidebar-heading
    .clickable}
    -   [内存优化](../../best-practice/memory.html){.sidebar-link}
    -   [常用业务优化](../../best-practice/business.html){.sidebar-link}
    -   [启动时延优化](../../best-practice/start.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [发布](../../publish/index.html){.sidebar-heading .clickable}
    -   [验收标准](../../publish/acceptance-criteria.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [版本说明](../../version/index.html){.sidebar-heading .clickable}
    -   [APILevel2](https://iot.mi.com/vela/quickapp/zh/guide/version/APILevel2.html){.sidebar-link}
    -   [APILevel3](https://iot.mi.com/vela/quickapp/zh/guide/version/APILevel3.html){.sidebar-link}
    -   [APILevel4](https://iot.mi.com/vela/quickapp/zh/guide/version/APILevel4.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    其他

    -   [常见问题](../../other/faq.html){.sidebar-link}
    -   [注意事项](../../other/tips.html){.sidebar-link}
    :::

::: {.page role="main"}
::: {.theme-default-content .content__default}
# [\#](computed.html#计算属性){.header-anchor} 计算属性

## [\#](computed.html#计算属性的基本使用){.header-anchor} 计算属性的基本使用

我们经常会在模版内使用表达式，合理使用表达式可以提升我们的开发效率。但是在模板中放入太多的逻辑会让模板过重且难以维护。例如：

::: {.language-html .extra-class}
``` language-html
<text> {{ message.split('').reverse().join('') }} </text>
```
:::

在这个地方，模板不再是简单的声明式逻辑。如果我们在很多地方用上这样的表达式，有可能让模版的可读性降低，并且重复使用同一表达式逻辑会让代码变得冗余，不易维护。对此，我们可以使用计算属性：

::: {.language-html .extra-class}
``` language-html
<template>
    <div>
      <text>Original message: "{{ message }}"</text>
      <text>Comtextuted reversed message: "{{ reversedMessage }}"</text>
    </div>
</template>
<script>
    export default {
      data: {
        message: 'Hello'
      },
      computed: {
        // 计算属性的 getter
        reversedMessage() {
          // `this` 指向 vm 实例
          return this.message.split('').reverse().join('')
        }
      },
      onReady() {
        console.log(this.reversedMessage) // olleH
    
        this.message = 'Goodbye'
    
        console.log(this.reversedMessage) // eybdooG
      }
    }
</script>
```
:::

这里我们声明了一个计算属性 `reversedMessage`。我们提供的函数将用作属性
`vm.reversedMessage` 的 getter 函数，这时 `vm.reversedMessage`
的值始终取决于 `vm.message` 的值。

你可以像绑定普通属性一样在模板中绑定计算属性。组件实例知道
`vm.reversedMessage` 依赖于 `vm.message`，因此当 `vm.message`
发生改变时，所有依赖 `vm.reversedMessage` 的绑定也会更新。

## [\#](computed.html#设置计算属性的-setter-函数){.header-anchor} 设置计算属性的 `setter` 函数

计算属性默认只有 getter ，不过在需要时你也可以提供一个 setter ：

::: {.language-html .extra-class}
``` language-html
<script>
    export default {
      data: {
        firstName: 'Quick',
        lastName: 'App'
      },
      computed: {
        fullName: {
          get() {
            return `${this.firstName} ${this.lastName}`
          },
          set(value) {
            const names = value.split(' ')
            this.firstName = names[0]
            this.lastName = names[names.length - 1]
          }
        }
      },
      onReady() {
        console.log(this.fullName) // Quick App
        this.fullName = 'John Doe'
        console.log(this.firstName) // John
        console.log(this.lastName) // Doe
      }
    }
</script>
```
:::
:::

::: page-nav
[ ← [条件指令](if.html){.prev} ]{.prev} [ [组件](component.html) →
]{.next}
:::
:::

::: toc
::: on-this-page
快速导航
:::

::: {.vuepress-toc-item .vuepress-toc-h2 .active}
[计算属性的基本使用](computed.html#计算属性的基本使用 "计算属性的基本使用")
:::

::: {.vuepress-toc-item .vuepress-toc-h2}
[设置计算属性的 \`setter\`
函数](computed.html#设置计算属性的-setter-函数 "设置计算属性的 `setter` 函数")
:::
:::
:::

::: global-ui
:::
:::
