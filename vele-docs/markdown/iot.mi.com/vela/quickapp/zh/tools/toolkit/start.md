::: {#app server-rendered="true"}
::: theme-container
::: navbar
::: sidebar-button
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiByb2xlPSJpbWciIHZpZXdib3g9IjAgMCA0NDggNTEyIiBjbGFzcz0iaWNvbiI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNNDM2IDEyNEgxMmMtNi42MjcgMC0xMi01LjM3My0xMi0xMlY4MGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6Ij48L3BhdGg+PC9zdmc+){.icon}
:::

[![Xiaomi Vela JS 应用开发文档](../../../logo.png){.logo} [Xiaomi Vela
JS 应用开发文档]{.site-name
.can-hide}](https://iot.mi.com/vela/quickapp/){.home-link
.router-link-active}

::: links
::: search-box
:::

::: nav-item
[教程](../../guide/version/APILevel4.html){.nav-link}
:::

::: nav-item
[组件](../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../index.html){.nav-link .router-link-active}
:::
:::
:::

::: sidebar-mask
:::

::: nav-item
[教程](../../guide/version/APILevel4.html){.nav-link}
:::

::: nav-item
[组件](../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../index.html){.nav-link .router-link-active}
:::

-   ::: {.section .sidebar-group .depth-0}
    [快速入门](../index.html){.sidebar-heading .clickable
    .router-link-active}
    -   [关于AIoT-IDE](../index.html){.sidebar-link aria-current="page"}
    -   [了解界面](../start/project.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [项目创建](https://iot.mi.com/vela/quickapp/zh/tools/project/creat-project){.sidebar-heading
    .clickable}
    -   [新建项目](../project/creat-project.html){.sidebar-link}
    -   [项目类型](../project/template.html){.sidebar-link}
    -   [管理项目](../project/project.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [设备管理](https://iot.mi.com/vela/quickapp/zh/tools/emulator/create-emulator){.sidebar-heading
    .clickable}
    -   [设备管理](../emulator/create-emulator.html){.sidebar-link}
    -   [运行模拟器](../emulator/emulator-run.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [开发辅助](https://iot.mi.com/vela/quickapp/zh/tools/dev/start){.sidebar-heading
    .clickable}
    -   [代码补全](../dev/start.html){.sidebar-link}
    -   [代码美化](../dev/format.html){.sidebar-link}
    -   [应用热更新](../dev/build.html){.sidebar-link}
    -   [可视化编辑](../dev/manifest.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [运行调试](https://iot.mi.com/vela/quickapp/zh/tools/debug/start){.sidebar-heading
    .clickable}
    -   [编译预览](../debug/start.html){.sidebar-link}
    -   [日志查看](../debug/watch-log.html){.sidebar-link}
    -   [调试运行](../debug/debug.html){.sidebar-link}
    -   [功能按钮](../debug/toolbar.html){.sidebar-link}
    -   [编译设置](../debug/build-setting.html){.sidebar-link}
    -   [内存分析](../debug/memory.html){.sidebar-link}
    -   [多屏适配](../debug/multi-screens.html){.sidebar-link}
    -   [优化评分](../debug/audit.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [真机调试](https://iot.mi.com/vela/quickapp/zh/tools/devicedebug/start){.sidebar-heading
    .clickable}
    -   [功能介绍](../devicedebug/start.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [编译工具](https://iot.mi.com/vela/quickapp/zh/tools/toolkit/start){.sidebar-heading
    .clickable .open .active}
    -   [AIoT-toolkit](start.html){.active .sidebar-link
        aria-current="page"}
    -   [升级迁移](update.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [打包发布](https://iot.mi.com/vela/quickapp/zh/tools/release/start){.sidebar-heading
    .clickable}
    -   [打包应用](../release/start.html){.sidebar-link}
    -   [发布应用](../release/release.html){.sidebar-link}
    :::

::: {.page role="main"}
::: {.theme-default-content .content__default}
# [\#](start.html#aiot-toolkit){.header-anchor} AIoT-toolkit

开发者在开发`Xiaomi Vela JS 应用`项目时，`AIoT-IDE`主要通过项目模板中内置的`AIoT-toolkit`完成项目的编译构建任务，得到构建文件（以
rpk 后缀命名，如：com.application.demo.rpk）。

## [\#](start.html#功能支持){.header-anchor} 功能支持

`AIoT-toolkit`是将**源码项目**转换为**目标代码项目**并生成**目标代码应用**的`命令行工具`，同时配备了
模拟器
相关功能供开发者使用。`AIoT-toolkit`提供了脱离`AIoT-IDE`，独立开发`Xiaomi Vela JS`
应用的能力。在不使用`AIoT-IDE`的情况下，可以完全通过`AIoT-toolkit`使用命令行工具进行开发，目前最新的**AIoT-toolkit2.0**有以下常用命令：

-   创建项目：**npm create aiot**
-   直接运行：**aiot
    start**，第一次运行会提示创建的模拟器，根据提示操作即可
-   构建项目，生成rpk： **aiot build**
-   构建项目-release模式：**aiot release**
-   获取已连接设备列表: **aiot getConnectedDevices**
-   获取设置平台：**aiot getPlatforms**
-   创建`Xiaomi Vela JS`模拟器：**aiot crateVelaAvd**
-   删除`Xiaomi Vela JS`模拟器：**aiot deleteVelafangAvd**

## [\#](start.html#版本支持){.header-anchor} 版本支持

目前`AIoT-IDE`支持**AIoT-toolkit1.0**，和**AIoT-toolkit2.0**，对**AIoT-toolkit1.0**的支持最小版本为`1.0.18`，对**AIoT-toolkit2.0**的支持最小版本为`2.0.x`。当前最新的`AIoT-IDE`**1.6.0**版本，推荐使用**2.0**，**2.0**提供了更快的编译速度和热更新支持，将给开发者提供更好的开发体验。

`AIoT-IDE`在打开一个`Xiaomi Vela JS`应用时，会主动检测**AIoT-toolkit**版本，当前项目使用的是**AIoT-toolkit1.0时**会提示你可以升级并查看迁移文档，如下图**标签1**所示：

![alt text](../../../assets/img/ide-toolkit-1.e9ff45fe.png)

如果你项目中使用了**AIoT-toolkit2.0**，但不是当前`AIoT-IDE`支持的最小正式版本，则会强制提示你升级。如下图**标签1**所示：

![alt text](../../../assets/img/ide-toolkit-2.4b609c1e.png)

## [\#](start.html#功能优化){.header-anchor} 功能优化

对比**AIoT-toolkit1.0**，**AIoT-toolkit2.0**有以下重大改进：\
1.模板语法中可以直接写复杂函数

::: {.language-html .extra-class}
``` language-html
<div 
    id="{{(x=> x+ y)(1)}}" 
    onclick="(evt)=>{
       const x = 10;
       return sum(x, evt, y)
    }">
</div>
```
:::

2.class的变量可以包含多个类名(之前每个变量只能包含1个类名)

::: {.language-html .extra-class}
``` language-html
class="a {{x}}"  // x="a1 a2 a3"
```
:::

3.style可以是string，也可以是object(之前只是object)

::: {.language-html .extra-class}
``` language-html
 <div style="a{{b}}c">

 </div>
```
:::

4.样式顺序可以随意写(之前必须按固定顺序)

::: {.language-html .extra-class}
``` language-html
 border: solid red 10px; 
```
:::

5.错误提示定位到行列 ![alt
text](../../../assets/img/ide-toolkit-3.d0283c9d.png)
:::

::: page-nav
[ ← [功能介绍](../devicedebug/start.html){.prev} ]{.prev} [
[升级迁移](update.html) → ]{.next}
:::
:::

::: toc
::: on-this-page
快速导航
:::

::: {.vuepress-toc-item .vuepress-toc-h2 .active}
[功能支持](start.html#功能支持 "功能支持")
:::

::: {.vuepress-toc-item .vuepress-toc-h2}
[版本支持](start.html#版本支持 "版本支持")
:::

::: {.vuepress-toc-item .vuepress-toc-h2}
[功能优化](start.html#功能优化 "功能优化")
:::
:::
:::

::: global-ui
:::
:::
