::: {#app server-rendered="true"}
::: theme-container
::: navbar
::: sidebar-button
![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiByb2xlPSJpbWciIHZpZXdib3g9IjAgMCA0NDggNTEyIiBjbGFzcz0iaWNvbiI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNNDM2IDEyNEgxMmMtNi42MjcgMC0xMi01LjM3My0xMi0xMlY4MGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6bTAgMTYwSDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0zMmMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQyNGM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjMyYzAgNi42MjctNS4zNzMgMTItMTIgMTJ6Ij48L3BhdGg+PC9zdmc+){.icon}
:::

[![Xiaomi Vela JS 应用开发文档](../../../logo.png){.logo} [Xiaomi Vela
JS 应用开发文档]{.site-name
.can-hide}](https://iot.mi.com/vela/quickapp/){.home-link
.router-link-active}

::: links
::: search-box
:::

::: nav-item
[教程](../../guide/version/APILevel4.html){.nav-link}
:::

::: nav-item
[组件](../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../index.html){.nav-link .router-link-active}
:::
:::
:::

::: sidebar-mask
:::

::: nav-item
[教程](../../guide/version/APILevel4.html){.nav-link}
:::

::: nav-item
[组件](../../components/index.html){.nav-link}
:::

::: nav-item
[JS接口](../../features/index.html){.nav-link}
:::

::: nav-item
[编程示例](../../samples/index.html){.nav-link}
:::

::: nav-item
[工具](../index.html){.nav-link .router-link-active}
:::

-   ::: {.section .sidebar-group .depth-0}
    [快速入门](../index.html){.sidebar-heading .clickable
    .router-link-active}
    -   [关于AIoT-IDE](../index.html){.sidebar-link aria-current="page"}
    -   [了解界面](../start/project.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [项目创建](https://iot.mi.com/vela/quickapp/zh/tools/project/creat-project){.sidebar-heading
    .clickable}
    -   [新建项目](../project/creat-project.html){.sidebar-link}
    -   [项目类型](../project/template.html){.sidebar-link}
    -   [管理项目](../project/project.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [设备管理](https://iot.mi.com/vela/quickapp/zh/tools/emulator/create-emulator){.sidebar-heading
    .clickable}
    -   [设备管理](../emulator/create-emulator.html){.sidebar-link}
    -   [运行模拟器](../emulator/emulator-run.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [开发辅助](https://iot.mi.com/vela/quickapp/zh/tools/dev/start){.sidebar-heading
    .clickable}
    -   [代码补全](../dev/start.html){.sidebar-link}
    -   [代码美化](../dev/format.html){.sidebar-link}
    -   [应用热更新](../dev/build.html){.sidebar-link}
    -   [可视化编辑](../dev/manifest.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [运行调试](https://iot.mi.com/vela/quickapp/zh/tools/debug/start){.sidebar-heading
    .clickable}
    -   [编译预览](../debug/start.html){.sidebar-link}
    -   [日志查看](../debug/watch-log.html){.sidebar-link}
    -   [调试运行](../debug/debug.html){.sidebar-link}
    -   [功能按钮](../debug/toolbar.html){.sidebar-link}
    -   [编译设置](../debug/build-setting.html){.sidebar-link}
    -   [内存分析](../debug/memory.html){.sidebar-link}
    -   [多屏适配](../debug/multi-screens.html){.sidebar-link}
    -   [优化评分](../debug/audit.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [真机调试](https://iot.mi.com/vela/quickapp/zh/tools/devicedebug/start){.sidebar-heading
    .clickable}
    -   [功能介绍](../devicedebug/start.html){.sidebar-link}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [编译工具](https://iot.mi.com/vela/quickapp/zh/tools/toolkit/start){.sidebar-heading
    .clickable .open}
    -   [AIoT-toolkit](start.html){.sidebar-link}
    -   [升级迁移](update.html){.active .sidebar-link
        aria-current="page"}
    :::

-   ::: {.section .sidebar-group .depth-0}
    [打包发布](https://iot.mi.com/vela/quickapp/zh/tools/release/start){.sidebar-heading
    .clickable}
    -   [打包应用](../release/start.html){.sidebar-link}
    -   [发布应用](../release/release.html){.sidebar-link}
    :::

::: {.page role="main"}
::: {.theme-default-content .content__default}
# [\#](update.html#升级迁移){.header-anchor} 升级迁移

相较于**AIoT-toolkit1.0**，**AIoT-toolkit2.0**对`Xiaomi Vela JS`项目编译的速度有了极大的提升，同时也带来一些**破坏性更新**。在老项目使用了**1.0**现准备向2.0**升级迁移**时，请按下面的**注意事项**，对源代码进行轻微修改。

## [\#](update.html#注意事项){.header-anchor} 注意事项

开发者在从**AIoT-toolkit1.0**升级到**AIoT-toolkit2.0**有以下注意事项:

  -----------------------------------------------------------------------------------------------------------
  描述                                                                    解决办法
  ----------------------------------------------------------------------- -----------------------------------
  有些语法修正\                                                           修改源代码
  1. `{{}}`                                                               
  中无需再嵌套`{{}}`，onclick=\"`{{`fun(`{{`x`}}`，`{{`y`}}`)`}}`\"改为   
  `onclick="fun(x, y)"`\                                                  
  \                                                                       
  2.不支持的样式选择器报错，例如伪类                                      

  动态路径没有转换为完整的路径：\                                         修改源代码
  **1.0写法**：../../common\                                              
  **2.0写法**：/common/\*\*\*\*                                           
  -----------------------------------------------------------------------------------------------------------

还有一些特殊的动态css值，从**AIoT-toolkit1.0**升级到**AIoT-toolkit2.0**，也要使用新的写法:

-   transform

::: {.language-js .extra-class}
``` language-js
 this.divStyle = {
   transform: JSON.stringify({
       translateX: "10px",
       translateY: "20px",
       scaleX: 2,
       scaleY: 0.5,
       rotate: "10deg",
   }),
 };
```
:::

-   background

    ::: {.language-js .extra-class}
    ``` language-js
      // 线性渐变
      this.divStyle = {
          background: JSON.stringify({
              values: [
              {
                  type: "linearGradient",
                  directions: ["to", "left"],
                  values: ["#FF0000 10px", "#0000FF 100%"],
              },
              ],
          }),
      };
      // 径向渐变
      this.divStyle = {
          background: JSON.stringify({
              values: [{
                  type: "radialGradient",
                  size: ["farthest-corner"],
                  directions: ["center"],
                  values: ["#3f87a6", "#ebf8e1", "#f69d3c"],
              }],
          }),
      };
    ```
    :::

-   filter

::: {.language-js .extra-class}
``` language-js
   this.divStyle = {
       filter: JSON.stringify({
           blur: "10px",
       }),
   };
```
:::

-   url

::: {.language-js .extra-class}
``` language-js
this.divStyle = {
   backgroundImage: "/common/logo.png",
};
```
:::

::: {.custom-block .warning}
注意

以上改动请务必按照注意事项中的说明进行修改，否则在升级到**2.0**后将影响项目的正常运行和启动。
:::
:::

::: page-nav
[ ← [AIoT-toolkit](start.html){.prev} ]{.prev} [
[打包应用](../release/start.html) → ]{.next}
:::
:::

::: toc
::: on-this-page
快速导航
:::

::: {.vuepress-toc-item .vuepress-toc-h2 .active}
[注意事项](update.html#注意事项 "注意事项")
:::
:::
:::

::: global-ui
:::
:::
